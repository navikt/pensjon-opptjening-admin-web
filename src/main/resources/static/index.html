<html lang="no">
<head>
    <meta charset="utf8">
    <style>
        .hjelpetekst {
            background-color: white;
            border: 1px solid lightgrey;
        }

        .section-header {
            text-align: center;
            background-color: grey;
            color: white;
        }

        .prerelease {
            background-color: lightgrey;
            color: darkslategray;
        }

        .info {
            background-color: darkgray;
        }
    </style>
    <script>
        function init() {
            let hjelpetekst_skjult = localStorage.getItem("hjelpetekst") === "hidden"
            oppdater_miljo()
            if (hjelpetekst_skjult) toggleHjelpetekst()
        }

        function oppdater_miljo() {
            let env = document.getElementById("environmentLabel")

            function setColor(bgColor, textColor) {
                env.style.backgroundColor = bgColor
                env.style.color = textColor
            }

            function setText(text) {
                env.textContent = text
            }

            switch (document.location.hostname) {
                case "localhost":
                    setColor("darkblue", "white")
                    setText("Localhost")
                    break;
                case "pensjon-opptjening-admin-web.intern.dev.nav.no":
                    setColor("lightgreen", "black")
                    setText("Test")
                    break;
                case "pensjon-opptjening-admin-web-q0.intern.dev.nav.no":
                    setColor("Orchid", "black")
                    setText("Test *** Q0 ***")
                    break;
                case "pensjon-opptjening-admin-web-q1.intern.dev.nav.no":
                    setColor("BlueViolet", "white")
                    setText("Test *** Q1 ***")
                    break;
                case "pensjon-opptjening-admin-web-q5.intern.dev.nav.no":
                    setColor("Orchid", "black")
                    setText("Test *** Q5 ***")
                    break;
                case "pensjon-opptjening-admin-web.intern.nav.no":
                    setColor("red", "yellow")
                    setText("PRODUKSJON")
                    break;
                default:
                    setColor("yellow", "black")
                    setText("ukjent domene: " + document.location.hostname)
            }
        }

        function toggleHjelpetekst() {
            let button = document.getElementById("hjelpetekst_toggle");
            let hjelpetekst = document.getElementById("hjelpetekst");

            if (hjelpetekst.hidden) {
                hjelpetekst.hidden = false
                button.textContent = "Skjul hjelpetekst"
            } else {
                hjelpetekst.hidden = true
                button.textContent = "Vis hjelpetekst"
            }
            localStorage.setItem("hjelpetekst", hjelpetekst.hidden ? "hidden" : "shown")
        }
    </script>
    <title>Pensjon opptjening - admin</title>
</head>
<body onload="init()">
<h1>Pensjonopptjening - Admin</h1>

<p>
<div id="environmentLabel">
    Ikke initalisert. Fiks javascript.
</div>

<button id="hjelpetekst_toggle" onclick="toggleHjelpetekst()">Skjul hjelpetekst</button>
<br>
<br>

<div id="hjelpetekst" class="hjelpetekst">
    <table>
        <tr>
            <th>List filer</th>
            <td>List filer som er tilgjengelig på sftp-server</td>
        </tr>
        <tr>
            <th>Overfør fil</th>
            <td>Overfør fil fra sftp-server til POPP</td>
        </tr>
        <tr>
            <th>Bestill behandling</th>
            <td>Bestiller behandling i POPP</td>
        </tr>
        <tr>
            <th>Gjenoppta behandling</th>
            <td>Gjenopptar behandlingen fra seneste steg som ikke er fullført</td>
        </tr>
    </table>
</div>

<br>

<div class="section-header">
    Fil
</div>

<form id="form1" action="/fil/list" method="get">
    <table>
        <tbody>
        <tr>
            <td>
            </td>
            <td>
                <input type="submit" name="list" value="List filer">
            </td>
        </tr>
        </tbody>
    </table>
</form>

<form id="form2" action="/fil/overfor" method="post">
    <table>
        <tbody>
        <tr>
            <td>
                <label for="filnavn">filnavn</label>
            </td>
            <td>
                <input type="text" name="filnavn" id="filnavn" size="100">
            </td>
        </tr>
        <tr>
            <td>
            </td>
            <td>
                <input type="submit" name="overfør" value="Overfør fil">
            </td>
        </tr>
        </tbody>
    </table>
</form>

<div class="section-header">
    Behandling
</div>

<form id="behandling" action="/behandling" method="post">
    <table>
        <tbody>
        <tr>
            <td>
                <label for="request">Start ny behandling</label>
            </td>
            <td>
                <textarea id="request" name="request" form="behandling" rows="10" cols="50"></textarea>
            </td>
        </tr>
        <tr>
            <td>
            </td>
            <td>
                <input type="submit" name="bestill" value="Bestill behandling">
            </td>
        </tr>
        </tbody>
    </table>
</form>

<form id="behandling_gjenoppta" action="/behandling/gjenoppta" method="post">
    <table>
        <tbody>
        <tr>
            <td>
                <label for="behandlingId">Gjennoppta Behandling for Id</label>
            </td>
            <td>
                <input type="text" name="behandlingId" id="behandlingId" size="100">
            </td>
        </tr>
        <tr>
            <td>
            </td>
            <td>
                <input type="submit" name="gjenoppta" value="Gjenoppta">
            </td>
        </tr>
        </tbody>
    </table>
</form>

<div class="section-header">
    PGI
</div>

<form id="pgi:status" action="/pgi/status" method="get">
    <table>
        <tbody>
        <tr>
            <td>
                <input type="submit" name="pgi-status" value="Sjekk status på pgi-innlesing">
            </td>
        </tr>
        </tbody>
    </table>
</form>

<form id="pgi:list-feilet" action="/pgi/list-feilede" method="get">
    <table>
        <tbody>
        <tr>
            <td>
                <input type="submit" name="submit" value="List feilede">
            </td>
        </tr>
        </tbody>
    </table>
</form>


<form id="pgi:sett-sekvensnummer" action="/pgi/sett-sekvensnummer" method="post">
    <table>
        <tbody>
        <tr>
            <td>
            </td>
            <td>
                <label>
                    Dato (yyyy-mm-dd):
                    <input type="text" name="dato"/>
                </label>
                <input type="submit" name="submit" value="Sett sekvensnummer">
            </td>
        </tr>
        </tbody>
    </table>
</form>

<div class="prerelease">
    <div class="info">
        Uferdig funksjonalitet
    </div>
    <form id="synkroniser-person" action="/pgi/synkroniser-person" method="post">
        <table>
            <tbody>
            <tr>
                <td>
                </td>
                <td>
                    <label>
                        FNR:
                        <input type="text" class="fnr" name="fnr"/>
                    </label>
                    <label>
                        År:
                        <input type="number" class="år" name="ar"/>
                    </label>
                    <input type="submit" name="pgi-status" value="Synkroniser person">
                </td>
            </tr>
            </tbody>
        </table>
    </form>


    <form id="rekjør-feilede" action="/pgi/rekjor" method="post">
        <table>
            <tbody>
            <tr>
                <td>
                </td>
                <td>
                    <input type="submit" name="pgi-rekjor" value="Rekjør feilede">
                </td>
            </tr>
            </tbody>
        </table>
    </form>
</div>

</body>
</html>